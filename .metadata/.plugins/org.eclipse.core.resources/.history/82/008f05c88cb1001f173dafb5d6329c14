package DAO;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.SQLException;

import Model.Employee;

public class EmployeeDAOimpl implements EmployeeDAOI {
private Connection connection;
public EmployeeDAOimpl() {
	setConnection(DBConnection.getConnection());
}
@Override
public void addEmployee(Employee employee) {
	
	String sql="insert into ememployee(nom,prenom,email,phone,role,poste)values(?,?,?,?,?,?";
try (PreparedStatement stmt=DBConnection.getConnection().prepareStatement(sql)){
	stmt.setString(1,employee.getNom());
	stmt.setString(2,employee.getPrenom());
	stmt.setString(3,employee.getEmail());
	stmt.setString(4,employee.getPhone());
	stmt.setFloat(5,employee.getSalaire());
	 stmt.setString(6, employee.getRole().toString()); 
     stmt.setString(7, employee.getPoste().toString());
	stmt.executeUpdate();
}catch(SQLException e) {
	e.printStackTrace();}
}
public Connection getConnection() {
	return connection;
}
public void setConnection(Connection connection) {
	this.connection = connection;
}
}

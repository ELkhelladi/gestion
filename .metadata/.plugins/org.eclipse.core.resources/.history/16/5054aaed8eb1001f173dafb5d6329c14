package controller;

import Model.EmployeeModel;
import View.EmployeeView;

public class EmploeeController {
private EmployeeView view;
private EmployeeModel model;
public EmploeeController(EmployeeView view,EmployeeModel model) {
	this.view=view;
	this.model=model;
	this.view.ajouterButton.addAcionListener(e->AddEmployee());
}
private void AddEmolyee() {
	String nom=view.getNom();
	String prenom=view.getPrenom();
	String email=view.getEmail();
	String phone=view.getPhone();
	String salaire;
	String role=view.getRole();
	String poste=view.getPoste();
	try{
		 salaire = view.getSalaire();
	}catch(NumberFormatException e) {
		view.afficherMessageErreur("l'age doit etre un nombre valide");
		return;
	}
	boolean ajoutReussi=model.AddEmployee(nom, prenom, email, phone, salaire, null, null);
	if(ajoutReussi) {
		view.afficherMessageSucces("employe ajoutee avec succes");
	}else {
	view.afficherMessageErreur("echec");
}
}
}